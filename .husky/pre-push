#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

# Run tests (non-blocking - warn only)
echo "ğŸ§ª Running tests..."
pnpm test --run || {
  echo "âš ï¸  Tests failed, but continuing push (tests are non-blocking)"
}

# Run critical checks only (skip full check:all which includes tests)
echo "ğŸ” Running critical checks..."
pnpm check:secrets || {
  echo "âŒ Secret check failed. Please fix before pushing."
  exit 1
}

pnpm type-check || {
  echo "âŒ Type check failed. Please fix before pushing."
  exit 1
}

echo "âœ… Pre-push checks passed!"

