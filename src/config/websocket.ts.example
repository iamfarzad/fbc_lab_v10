/**
 * WebSocket Configuration
 * 
 * Handles WebSocket URL configuration for local vs production
 * 
 * Local: ws://localhost:8080
 * Production: wss://fb-consulting-websocket.fly.dev
 */

export const getWebSocketUrl = (): string => {
  // Check if URL is explicitly set in environment
  if (import.meta.env.VITE_WEBSOCKET_URL) {
    return import.meta.env.VITE_WEBSOCKET_URL
  }

  // Production: Use Fly.io URL
  if (import.meta.env.PROD) {
    return 'wss://fb-consulting-websocket.fly.dev'
  }

  // Development: Use localhost
  return 'ws://localhost:8080'
}

/**
 * Check if WebSocket URL is configured
 */
export const isWebSocketConfigured = (): boolean => {
  return !!getWebSocketUrl()
}

/**
 * Get WebSocket protocol (ws or wss)
 */
export const getWebSocketProtocol = (): 'ws' | 'wss' => {
  const url = getWebSocketUrl()
  return url.startsWith('wss://') ? 'wss' : 'ws'
}

